<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Stampie by henrikbjorn</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Stampie</h1>
        <p>Library for using online Email providers</p>

        <p class="view"><a href="https://github.com/Stampie/Stampie">View the Project on GitHub <small>Stampie/Stampie</small></a></p>


        <ul>
          <li><a href="https://github.com/Stampie/Stampie/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/Stampie/Stampie/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/Stampie/Stampie">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Stampie</h1>

<p><a href="https://travis-ci.org/Stampie/Stampie"><img src="https://travis-ci.org/Stampie/Stampie.svg?branch=master" alt="Build Status"></a></p>

<p>Stampie is a simple API Wrapper for different email providers such as <a href="https://postmarkapp.com">Postmark</a> and <a href="https://sendgrid.com">SendGrid</a>.</p>

<p>It is very easy to use and to integrate into your application as demonstrated below with a <code>SendGrid</code> mailer.</p>

<h2>Providers</h2>

<ul>
<li><a href="https://postmarkapp.com">Postmark</a></li>
<li><a href="https://sendgrid.com">SendGrid</a></li>
<li><a href="https://www.mailgun.com">MailGun</a></li>
<li><a href="https://mandrill.com/">Mandrill</a></li>
</ul><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="c1">// Stampie.phar does Autoloading through its Stup.php</span>
<span class="k">require</span> <span class="s1">'/path/to/stampie.phar'</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Message</span> <span class="k">extends</span> <span class="nx">\Stampie\Message</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getFrom</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'alias@domain.tld'</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getSubject</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'You are trying out Stampie'</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">getText</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'So what do you think about it?'</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$adapter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stampie\Adapter\Buzz</span><span class="p">(</span><span class="k">new</span> <span class="nx">Buzz\Browser</span><span class="p">());</span>
<span class="nv">$mailer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stampie\Mailer\SendGrid</span><span class="p">(</span><span class="nv">$adapter</span><span class="p">,</span> <span class="s1">'username:password'</span><span class="p">);</span>

<span class="c1">// Returns Boolean true on success or throws an HttpException for error</span>
<span class="c1">// messages not recognized by SendGrid api or ApiException for known errors.</span>
<span class="nv">$mailer</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="k">new</span> <span class="nx">Message</span><span class="p">(</span><span class="s1">'reciever@domain.tld'</span><span class="p">));</span>
</pre></div>

<p>This simple example shows a few different things about how Stampie works under the hood and is developed. Because others are <strong>so much</strong> better than us to do Http communication Stampie uses a <a href="http://en.wikipedia.org/wiki/Adapter_pattern">Adapter Pattern</a> to integrate with known libraries such as <a href="http://github.com/kriswallsmith/Buzz">Buzz</a> and <a href="http://guzzlephp.org">Guzzle</a>.</p>

<p>Every mailer takes a <code>$serverToken</code> as the second argument in their constructor. This is what is used for authentication. In the Postmark mailer this is a hash but in SendGrid it is a <code>username:password</code> pattern that is split into two pieces and send as arguments. A Mailer is responsible for formatting the request needed for a given API.</p>

<p>A <code>Message</code> or <code>MessageInterface</code> is a simple storage class that holds information about the message sent to an API such as the email address this is from and who should recieve it together with html and text bodies.</p>

<p>Last their is an Interface for every type of class or abstract implementation that should be used when adding new Mailer's or Adapter's.</p>

<h2>Documentation</h2>

<p>There is generated API documentation for all tags and released versions. Those can be found at <a href="https://stampie.github.com/Stampie/api/master">Stampie.github.com/Stampie/api/master</a>.</p>

<h2>Extensions</h2>

<ul>
<li>
<a href="https://github.com/stof/StampieExtra">StampieExtra</a> provides extensions
to Stampie using the Symfony2 EventDispatcher component.</li>
</ul><h2>Framework integration</h2>

<p>Stampie is itself completly decoupled and does not depend on any framework.</p>

<h3>Integrations</h3>

<ul>
<li>
<a href="https://github.com/Stampie/HBStampieBundle">HBStampieBundle</a> it is also <a href="https://packagist.org/packages/henrikbjorn/stampie-bundle">on packagist</a>
</li>
</ul><h2>Testing</h2>

<p>Stampie is <a href="https://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a> tested with <a href="https://travis-ci.org">Travis</a> and aims for a high coverage percentage.</p>

<h2>Developing</h2>

<p>As mentioned above if integrating new mailers or adapters please rely on the interfaces or abstract classes already in this package. Furthermore unit tests should be provided aswell.</p>

<h2>Feedback</h2>

<p>This is a project created to test TDD along the way and maybe have some scars from that. But you are always welcome to send feedback or Github, Twitter, Github issue or Pull Request. Same goes if something is wrong or you have ideas for a better or smarter implementation.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/henrikbjorn">henrikbjorn</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>